#!/bin/sh

sinks=$(pamixer --list-sinks | awk 'NR > 1 {print $1}')
default=$(pamixer --get-default-sink | awk 'NR > 1 {print $1}')

for sink in $sinks; do
	volume=$(pamixer --sink "$sink" --get-volume)
	[ "$volume" -lt 100 ] && [ "$sink" -ne "$default" ] &&
		pamixer --sink "$sink" --set-volume 100
done

case "$1" in
high) pamixer -i 1 ;;
higher) pamixer -i 5 ;;
low) pamixer -d 1 ;;
lower) pamixer -d 5 ;;
mute) pamixer -t ;;
esac

volume=$(pamixer --get-volume)
status=$(pamixer --get-mute)

([ "$status" != "true" ] &&
	notify-send -r 5 -t 2000 "VOLUME ${volume}%") ||
	notify-send -r 5 -t 2000 -u critical "MUTE ${volume}%"
